<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Student Management System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
    <script>
        // Basic Tailwind Configuration (copied from layout)
        tailwind.config = {
          theme: {
            extend: {
              colors: {
                'primary': { '50': '#f5f3ff', '100': '#ede9fe', '200': '#ddd6fe', '300': '#c4b5fd', '400': '#a78bfa', '500': '#8b5cf6', '600': '#7c3aed', '700': '#6d28d9', '800': '#5b21b6', '900': '#4c1d95', '950': '#2e1065' },
                'secondary': { '50': '#f9fafb', '100': '#f3f4f6', '200': '#e5e7eb', '300': '#d1d5db', '400': '#9ca3af', '500': '#6b7280', '600': '#4b5563', '700': '#374151', '800': '#1f2937', '900': '#111827', '950': '#030712' }
              },
              fontFamily: { sans: ['Inter', 'sans-serif'], }
            }
          }
        }
    </script>
    <style>
        /* Basic styles (copied from layout for consistency) */
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; /* bg-slate-50 */ color: #1f2937; -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; }
        *:focus-visible { outline: 2px solid #c4b5fd; outline-offset: 2px; box-shadow: 0 0 0 2px rgba(196, 181, 253, 0.5); }
        *:focus:not(:focus-visible) { outline: none; }
        input:focus, textarea:focus, select:focus { border-color: #a78bfa; box-shadow: 0 0 0 1px #a78bfa; }
        input[type="text"], input[type="email"], input[type="password"] { background-color: #ffffff; border-color: #d1d5db; color: #374151; border-radius: 0.5rem; padding: 0.625rem 0.875rem; border-width: 1px; box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out; font-size: 0.875rem; }
        label { color: #374151; font-weight: 500; font-size: 0.875rem; margin-bottom: 0.375rem; display: block; }
        /* Using enhanced button styles directly */
        .btn { @apply inline-flex items-center justify-center font-semibold px-4 py-2 rounded-lg transition-all duration-150 ease-in-out border shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2; }
        .btn:hover { @apply shadow-md brightness-95; }
        .btn:active { @apply shadow-inner brightness-90; }
        .btn:disabled { @apply opacity-50 cursor-not-allowed shadow-none; }
        .btn-primary { @apply bg-primary-600 text-white border-primary-600 focus:ring-primary-500; }
        .btn-primary:hover { @apply bg-primary-700 border-primary-700; }
        .alert { padding: 1rem; margin-bottom: 1.5rem; border-radius: 0.5rem; border-width: 1px; font-size: 0.875rem; }
        .alert-success { background-color: #f0fdf4; border-color: #a7f3d0; color: #065f46; }
        .alert-danger { background-color: #fef2f2; border-color: #fecaca; color: #991b1b; }
    </style>
</head>

<body class="bg-slate-50">

    <main class="flex items-center justify-center min-h-screen py-12 px-4">
        <div class="w-full max-w-sm p-6 md:p-8 bg-white rounded-lg shadow-xl border border-gray-200">
             <div class="text-center mb-6">
                 <a th:href="@{/}" class="inline-flex items-center text-purple-700 hover:text-purple-900">
                     <i class="fas fa-graduation-cap text-3xl mr-2"></i>
                     <span class="text-xl font-bold text-gray-800">Student Mgmt</span>
                 </a>
             </div>

            <h2 class="text-2xl font-bold text-center text-gray-800 mb-6">
                Login
            </h2>

            <form th:action="@{/login}" method="post" class="space-y-5">

                <div th:if="${param.error}" class="alert alert-danger">
                    Invalid username or password.
                </div>

                <div th:if="${param.logout}" class="alert alert-success">
                    You have been logged out.
                </div>

                <div th:if="${registrationSuccess}" class="alert alert-success" th:text="${registrationSuccess}">
                </div>

                <div>
                    <label for="username" class="block text-sm font-medium text-gray-700 mb-1">Email</label>
                    <input type="email" id="username" name="username" required autofocus
                           class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-purple-500 focus:border-purple-500"
                           placeholder="you@example.com">
                </div>

                <div>
                    <label for="password" class="block text-sm font-medium text-gray-700 mb-1">Password</label>
                    <input type="password" id="password" name="password" required
                           class="w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-1 focus:ring-purple-500 focus:border-purple-500"
                           placeholder="Enter your password">
                </div>

                <div>
                    <button type="submit" class="w-full btn btn-primary">
                       <i class="fas fa-sign-in-alt mr-2"></i> Log In
                    </button>
                </div>

                <div class="text-center text-sm pt-2">
                    <span class="text-gray-600">Don't have an account?</span>
                    <a th:href="@{/register}" class="font-medium text-purple-600 hover:text-purple-800 ml-1">
                        Register here
                    </a>
                </div>

            </form>
        </div>
    </main>

</body>
</html>
